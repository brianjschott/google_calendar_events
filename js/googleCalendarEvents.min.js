(function(e){e.GoogleCalendarEvents=function(t){function s(){var n=new google.gdata.calendar.CalendarService("GoogleInc-jsguide-1.0"),s=new google.gdata.calendar.CalendarEventQuery(r);s.setOrderBy("starttime");s.setSortOrder("ascending");s.setFutureEvents(!0);s.setSingleEvents(!0);s.setMaxResults(t.maxresults);var o=new Array("Sun","Mon","Tue","Wed","Thu","Fri","Sat"),u=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),a=function(n){var r=n.feed.getEntries();e(i).html("");t.displayCount&&e(i).html(r.length+" upcoming events");e(i).append('<ul class="google_event_list"></ul>');var s=null;for(var a=0;a<r.length;a++){var f=r[a],l=f.getTitle().getText(),c=null,h=null,p=f.getContent().getText(),d=f.getLink().getHref(),v=null,m=f.getTimes();if(m.length>0){c=m[0].getStartTime();h=c.getDate()}var g=h.getDay(),y=h.getMonth(),b=h.getFullYear(),w=h.getDate(),E=o[g],S=u[y],x=f.getLocations(),T=x[0].getValueString(),N="am",C=h.getHours();C>11&&(N="pm");C>12&&(C-=12);C===0&&(C=12);var k=h.getMinutes();k+="";k.length===1&&(k="0"+k);var L=C+":"+k+N;if(t.groupDates){if(s===null){s=new Array(g,y,b);e(i).children(".google_event_list").append('<li><span class="google_event_group_date">'+t.dateLabel+" "+E+" "+S+" "+w+'</span><ul class="google_event_group"></ul></li>')}if(s.toString()===(new Array(g,y,b)).toString()){v='<span class="google_event_title"><a href="'+d+'" rel="'+l+'">'+l+"</a></span> "+'<span class="google_event_location">'+t.locationLabel+" "+T+"</span> "+'<span class="google_event_description">'+t.descriptionLabel+" "+p+"</span> ";e(i).find("ul.google_event_group").last().append("<li>"+v+"</li>")}else{s=new Array(g,y,b);e(i).children(".google_event_list").append('<li><span class="google_event_group_date">'+t.dateLabel+" "+E+" "+S+" "+w+'</span><ul class="google_event_group"></ul></li>');v='<span class="google_event_title"><a href="'+d+'" rel="'+l+'">'+l+"</a></span> "+'<span class="google_event_location">'+t.locationLabel+" "+T+"</span> "+'<span class="google_event_description">'+t.descriptionLabel+" "+p+"</span> ";e(i).find("ul.google_event_group").last().append("<li>"+v+"</li>")}}else{v='<span class="google_event_title"><a href="'+d+'" rel="'+l+'">'+l+"</a></span> "+'<span class="google_event_date">'+t.dateLabel+" "+E+" "+S+" "+w+", "+b+" "+L+"</span> "+'<span class="google_event_location">'+t.locationLabel+" "+T+"</span> "+'<span class="google_event_description">'+t.descriptionLabel+" "+p+"</span> ";e(i).children(".google_event_list").append("<li>"+v+"</li>")}}},f=function(t){e(i).html("<pre>"+t+"</pre>")};n.getEventsFeed(s,a,f)}var n={feedUri:"https://www.google.com/calendar/feeds/en.usa%23holiday%40group.v.calendar.google.com/public/full",element:"#gcal",maxresults:10,displayCount:!0,dateLabel:"When:",locationLabel:"Where:",descriptionLabel:"",groupDates:!1},r=t.feedUri;r.indexOf("public/full")===-1&&(r=n.feedUri);t=e.extend(n,t);var i=t.element;google.setOnLoadCallback(s);e(window).load(function(){})}})(jQuery);